import{l as R}from"./user-Bl9A1ko5.js";import{d as E,i as c,R as _,r as n,o as N,h,w as t,a as B,b as l,e as b,P as D}from"./index-MVVa4Kd4.js";const L={class:"dialog-footer"},q=E({__name:"EditUser",emits:["refreshList"],setup(O,{expose:V,emit:g}){const v=g,i=c(),r=c(!1),o=_({id:"",name:"",status:"",role:""}),y=_({status:[{required:!0,message:"请选择",trigger:"change"}],role:[{required:!0,message:"请选择",trigger:"change"}]}),m=()=>{Object.keys(o).forEach(s=>{o[s]=""})},U=async s=>{s&&await s.validate(async e=>{e&&(await R(o),D.success("操作成功"),v("refreshList"),r.value=!1)})},C=()=>{m(),r.value=!1};return V({openDialog:s=>{s&&Object.keys(o).forEach(e=>{o[e]=s[e]}),r.value=!0}}),(s,e)=>{const k=n("el-input"),d=n("el-form-item"),u=n("el-option"),p=n("el-select"),w=n("el-form"),f=n("el-button"),x=n("el-dialog");return N(),h(x,{modelValue:r.value,"onUpdate:modelValue":e[4]||(e[4]=a=>r.value=a),title:"用户信息",width:"550px","destroy-on-close":"",onClose:e[5]||(e[5]=a=>m())},{footer:t(()=>[B("span",L,[l(f,{onClick:C},{default:t(()=>[b("取消")]),_:1}),l(f,{type:"primary",onClick:e[3]||(e[3]=a=>U(i.value))},{default:t(()=>[b("确认")]),_:1})])]),default:t(()=>[l(w,{model:o,"label-width":"auto",ref_key:"formRef",ref:i,rules:y},{default:t(()=>[l(d,{label:"用户名称",prop:"name",disabled:""},{default:t(()=>[l(k,{modelValue:o.name,"onUpdate:modelValue":e[0]||(e[0]=a=>o.name=a),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),l(d,{label:"状态",prop:"status"},{default:t(()=>[l(p,{modelValue:o.status,"onUpdate:modelValue":e[1]||(e[1]=a=>o.status=a),placeholder:"请选择",clearable:""},{default:t(()=>[l(u,{label:"正常",value:"Normal"}),l(u,{label:"禁用",value:"Disabled"})]),_:1},8,["modelValue"])]),_:1}),l(d,{label:"角色",prop:"role"},{default:t(()=>[l(p,{modelValue:o.role,"onUpdate:modelValue":e[2]||(e[2]=a=>o.role=a),placeholder:"请选择",clearable:""},{default:t(()=>[l(u,{label:"VIP用户",value:"VIP_USER"}),l(u,{label:"普通用户",value:"NORMAL_USER"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])}}});export{q as _};
