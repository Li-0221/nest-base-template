import{d as w,D as L,i as u,R as _,r as $,o as P,c as B,b as r,u as s,a as D,w as l,T as I,e as i,j as N,X as R,aT as V,V as A,H as F,W as q,P as E,aK as H}from"./index-MVVa4Kd4.js";import{u as b}from"./useHandleData-DgTJlkvd.js";import{I as M,u as S}from"./index-B9JVUYkX.js";import{_ as W}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-BU16DZwG.js";import{T as j}from"./index-DpU9wZWC.js";import{_ as G}from"./UserDrawer.vue_vue_type_script_setup_true_name_UserDrawer_lang-B92eQt4b.js";import{g as K,a as X,d as z,r as J,e as g,B as O,h as Q,i as Y,b as Z,c as ee}from"./user-Bl9A1ko5.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./sortable.esm-C0-Qcoum.js";import"./Imgs-BAmZRC9Q.js";import"./upload-ex8U0d6F.js";const ae={class:"main-box"},te={class:"table-box"},re=w({name:"useTreeFilter"}),be=w({...re,setup(le){const y=L(),v=()=>{y.push("/proTable/useTreeFilter/detail/123456?params=detail-page")},n=u(),c=_({departmentId:"1"}),h=e=>{E.success("请注意查看请求参数变化 🤔"),n.value.pageable.pageNum=1,c.departmentId=e},k=_([{type:"index",label:"#",width:80},{prop:"username",label:"用户姓名",width:120,search:{el:"input"}},{prop:"gender",label:"性别",width:120,sortable:!0,enum:Z,search:{el:"select"},fieldNames:{label:"genderLabel",value:"genderValue"}},{prop:"idCard",label:"身份证号"},{prop:"email",label:"邮箱"},{prop:"address",label:"居住地址"},{prop:"status",label:"用户状态",width:120,sortable:!0,tag:!0,enum:ee,search:{el:"select"},fieldNames:{label:"userLabel",value:"userStatus"}},{prop:"createTime",label:"创建时间",width:180},{prop:"operation",label:"操作",width:330,fixed:"right"}]),T=async e=>{var a;await b(z,{id:[e.id]},`删除【${e.username}】用户`),(a=n.value)==null||a.getTableList()},C=async e=>{var a;await b(J,{id:e.id},`重置【${e.username}】用户密码`),(a=n.value)==null||a.getTableList()},x=async()=>{H.confirm("确认导出用户数据?","温馨提示",{type:"warning"}).then(()=>{var e;return S(g,"用户列表",(e=n.value)==null?void 0:e.searchParam)})},m=u(null),U=()=>{var a,t;const e={title:"用户",tempApi:g,importApi:O,getTableList:(a=n.value)==null?void 0:a.getTableList};(t=m.value)==null||t.acceptParams(e)},f=u(null),d=(e,a={})=>{var o,p;const t={title:e,isView:e==="查看",row:{...a},api:e==="新增"?Q:e==="编辑"?Y:void 0,getTableList:(o=n.value)==null?void 0:o.getTableList};(p=f.value)==null||p.acceptParams(t)};return(e,a)=>{const t=$("el-button");return P(),B("div",ae,[r(j,{label:"name",title:"部门列表(单选)","request-api":s(K),"default-value":c.departmentId,onChange:h},null,8,["request-api","default-value"]),D("div",te,[r(W,{ref_key:"proTable",ref:n,columns:k,"request-api":s(X),"init-param":c,"search-col":{xs:1,sm:1,md:2,lg:3,xl:3}},{tableHeader:l(()=>[r(t,{type:"primary",icon:s(I),onClick:a[0]||(a[0]=o=>d("新增"))},{default:l(()=>[i("新增用户")]),_:1},8,["icon"]),r(t,{type:"primary",icon:s(N),plain:"",onClick:U},{default:l(()=>[i("批量添加用户")]),_:1},8,["icon"]),r(t,{type:"primary",icon:s(R),plain:"",onClick:x},{default:l(()=>[i("导出用户数据")]),_:1},8,["icon"]),r(t,{type:"primary",plain:"",onClick:v},{default:l(()=>[i("To 平级详情页面")]),_:1})]),operation:l(o=>[r(t,{type:"primary",link:"",icon:s(V),onClick:p=>d("查看",o.row)},{default:l(()=>[i("查看")]),_:2},1032,["icon","onClick"]),r(t,{type:"primary",link:"",icon:s(A),onClick:p=>d("编辑",o.row)},{default:l(()=>[i("编辑")]),_:2},1032,["icon","onClick"]),r(t,{type:"primary",link:"",icon:s(F),onClick:p=>C(o.row)},{default:l(()=>[i("重置密码")]),_:2},1032,["icon","onClick"]),r(t,{type:"primary",link:"",icon:s(q),onClick:p=>T(o.row)},{default:l(()=>[i("删除")]),_:2},1032,["icon","onClick"])]),_:1},8,["columns","request-api","init-param"]),r(G,{ref_key:"drawerRef",ref:f},null,512),r(M,{ref_key:"dialogRef",ref:m},null,512)])])}}});export{be as default};
